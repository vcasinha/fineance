/*! fineance 06-11-2014 */
var modules=["ngResource","ui.router","ui.bootstrap","fineance.transactions","fineance.services"],app=angular.module("fineance",modules);app.config(["$stateProvider","$urlRouterProvider","$resourceProvider",function(e,t,a){a.defaults.stripTrailingSlashes=!1,t.when("/c?id","/contacts/:id").when("/user/:id","/contacts/:id").otherwise("/"),e.state("home",{url:"/",template:'<p class="lead">Welcome to the UI-Router Demo</p><p>Use the menu above to navigate. Pay attention to the <code>$state</code> and <code>$stateParams</code> values below.</p><p>Click these links—<a href="#/c?id=1">Alice</a> or <a href="#/user/42">Bob</a>—to see a url redirect in action.</p>'})}]);var app=angular.module("fineance.services",["ui.router","ui.bootstrap"]);app.factory("Transaction",["$resource",function(e){return e("/api/transaction/:id",{id:"@id"},{update:{method:"PUT"}})}]),app.factory("Category",["$resource",function(e){return e("/api/category/:id",{id:"@id"},{update:{method:"PUT"}})}]);var app=angular.module("fineance.transactions",["ui.router","ui.bootstrap"]);app.directive("tabletransactions",function(){return{restrict:"E",scope:{transactions:"=records"},templateUrl:"app/html/partials/transaction.table.html"}}),app.config(["$stateProvider","$urlRouterProvider",function(e){e.state("transaction-index",{url:"/transaction",templateUrl:"app/html/transactions/index.html",controller:"TransactionIndexController"}).state("transaction-add",{url:"/transaction/create",templateUrl:"app/html/transactions/add.html",controller:"TransactionAddController"})}]),app.controller("TransactionIndexController",["$scope","Transaction","Category",function(e,t,a){e.refresh=function(){e.transactions=t.query()},e.categories=a.query(),e.destroy=function(t){console.log("transaction.delete",t),t.$delete(function(){e.refresh()})},e.refresh()}]),app.controller("TransactionAddController",["$scope","$state","Transaction","Category",function(e,t,a,r){e.opened=!1,e.openCalendar=function(t){t.preventDefault(),t.stopPropagation(),e.opened=!e.opened},e.transaction={},e.categories=r.query(),e.addTransaction=function(t){console.log("transaction.add",t);var r=new a(e.transaction);r.$save().then(function(){alert("worked")},function(){alert("failed")})}}]);