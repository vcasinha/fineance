<div class="row table-tools">
	<div class="col-xs-12">
		<div class="btn-toolbar">
			<button 
			  	class="btn btn-sm btn-danger"
			  	ng-model="table.trashed"
			  	btn-checkbox
			  	btn-checkbox-true="true"
			  	btn-checkbox-false="false">Deleted</button>
		</div>
	</div>
</div>
<div class="row table-list">
	<div class="col-xs-12">
		<div class="panel panel-default">
		<table class="table table-striped table-condensed table-bordered">
		    <tr>
				<th 
					ng-repeat="field in table.fields"
					ng-click="table.toggleOrder(field.name)"
					ng-hide="field.viewonly && table.trashed">
					<span ng-show="table.getOrder(field.name) == 'ASC'">
						<i class="glyphicon glyphicon-arrow-up"></i>
					</span>
					<span ng-show="table.getOrder(field.name) == 'DESC'">
						<i class="glyphicon glyphicon-arrow-down"></i>
					</span>
					<span>{{field.label}}</span>
				</th>
				<th ng-show="table.trashed">Deleted on</th>
				<th></th>
		    </tr>
		    <tr ng-repeat="record in table.records">
				<td ng-repeat="field in table.fields" 
					ng-hide="field.viewonly && table.trashed">{{table.getRecordValue(record, field)}}</td>
				<td ng-show="table.trashed">{{record['deleted_at']}}</td>
				<td ng-hide="table.trashed">
					<a ng-click="table.destroy(record)" class="btn btn-xs btn-danger">
						<i class="glyphicon glyphicon-trash"></i>
					</a>
				</td>
				<td ng-show="table.trashed">
					<a ng-click="table.recover(record)" class="btn btn-xs btn-success">
						<i class="glyphicon glyphicon-share-alt"></i>
					</a>
				</td>
		    </tr>
		</table>
		</div>
		<div class="col-xs-12">
			<form name="form" novalidate="" class="form-inline" role="form">
				<span class="input-groupx" ng-hide="field.viewonly" ng-repeat="field in table.fields">
					<label class="sr-only" for="{{field.name}}">{{field.label}}</label>
				    <input type="{{field.type}}" 
				    		pattern="{{field.pattern}}" 
							class="form-control input-sm" 
							ng-model="table.record[field.name]" 
							placeholder="{{field.label}}" 
							ng-required="field.required"
							ng-show="field.type != 'related'"/>
					<select ng-show="field.type == 'related'"
							class="form-control input-sm" 
							ng-model="table.record[field.name]">
						<option disabled selected>({{field.label}})</option>
						<option ng-repeat="related in field.related.records" 
								value="{{related[field.related.index]}}">{{related[field.related.label]}}</option>
					</select>
				</span>
				<button ng-click="table.create(table.record)" 
						class="form-control btn btn-sm btn-success align-left" 
						ng-disabled="form.$invalid">Create <i class="glyphicon glyphicon-plus"></i></button>
				
			</form>
		</div>
	</div>
</div>
<div class="row" ng-show="table.last_page > 1">
	<div class="col-xs-12">
		<pagination total-items="table.itemCount" 
			ng-model="table.page" 
			ng-change="tableRefresh()" 
			max-size="table.max_pages"
			class="pagination-sm"
			boundary-links="true"
			rotate="true"></pagination>
	</div>
</div>